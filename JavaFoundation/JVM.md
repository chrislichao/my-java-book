# JVM

##### 1，类装载子系统
##### 2，运行时数据区（内存模型）
- 虚拟机栈（线程栈）
  - 栈帧，一个方法对应一个栈帧内存区域
    - 局部变量表
    - 操作数栈
    - 动态链接，代码存放在方法区中的入口位置是本方法对应的动态链接
    - 方法出口，执行完成本方法后，再继续执行哪段代码的位置
    - 等
- 程序计数器
  - 存放线程正在运行的代码的地址
  - CPU时间片切换
- 方法区
  - 存放：常量，静态变量，类信息
  - 1.8前，永久代
  - 1.8及1.8后，元空间（使用操作系统的直接内存）
- 堆
  - 老年代（静态变量引用的对象，线程池对象，对象池，缓存池对象，Spring容器中的Bean等）
- 垃圾回收
  - GC Root根节点
  - minor GC
  - full GC
  - 对象头，分代年龄
  - STW（stop the world）机制
- 常见的问题
  - GC在什么时候触发？
  - minor gc后，对象什么时候直接被移入老年代？
##### 3，字节码执行引擎
##### 4，常用命令
- 对代码进行反汇编，生成更可读的字节码
```
javap -c XXX.class > XXX.txt
```